# hust cs机试准备笔记——输入输出流



---
### 在C++中使用scanf/printf，要加上```#include<stdio.h>```
---

## 一、scanf

1. 基本使用

但是注意```string```类型是C++的，不要在scanf/printf里面涉及到```string```类型变量

```cpp
int a,b,c;
// 这里面已经包含了空格，也就是123456会被判断为一个数
// 12 34 56会被判定为三个数
scanf("%d%d%d",&a,&b,&c);
```

```cpp
// 循环使用
while(scanf("%d%d",&year,&number)!=EOF){
    ...
}
```


2. 格式字符
```
  %c 读入一个字符
  %d 读入十进制整数
  %i 读入十进制，八进制，十六进制整数
  %o 读入八进制整数
  %x,%X 读入十六进制整数
  %c 读入一个字符
  %s 读入一个字符串，遇空格、制表符或换行符结束。
  %f,%F,%e,%E,%g,%G 用来输入实数，可以用小数形式或指数形式输入。
```
```

  %p 读入一个指针
  %u 读入一个无符号十进制整数
  %n 至此已读入值的等价字符数
  %[] 扫描字符集合
```

3. %d

scanf()会先忽略空白符，直到遇到第一个0-9开始读取，如果后面的字符依然是0-9就继续读取，直到遇到**空白符或者非0-9的字符**，scanf认为%d的读取完毕，将读取的字符序列转换成十进制整型保存到变量中。最后遇到的空白符或非法字符将返回到stdin中去。

如果忽略掉前面的空白符后第一个遇到的是非法的字符（非0-9），比如a，这时a会被返回到stdin中，程序**也将会跳出scanf()函数**(不管%d后面是否还存在带输入项,如另一个%d，都会跳出整个scanf()函数)



## 二、printf

1. 常规用法

```cpp
printf("%d\n",num);// 注意输入num要用&号，而输出不用
```

2. 格式化输出

```cpp
// 输出的格式为2000-02-13
// 其实我感觉一些简单情况下这种方式比cout好用多了。。。
printf("%04d-%02d-%02d\n",year,month,day);
```

还有一些小数的很具体的格式化，遇到再记录

https://blog.csdn.net/qq_36859842/article/details/76696394

3. 更复杂的说明

https://blog.csdn.net/liyunyou/article/details/82875384

看不懂了已经

## 三、cin

1. 回车符问题
   
  比如我要输入多行数据，如果我每一行都只用一个cin>>，那么没问题，因为cin>>会跳过**开头的**回车符，

但是有些时候，题目会给第一行一个int，后面的行全部string，这个时候我比较想用一个cin>>接收第一行，后面的行用getline直接变成字符串，但是问题就来了，**cin>>不会到了结尾的回车符只是停止了，但是getline并不会自动跳过开头遇到的回车符**

针对以上问题，有两种可能的解决方法：

1. 第一行cin>>之后，写一句```cin.get()```，这个函数只吃掉一个字符，正好吃掉回车符
2. 第一行不用cin>>，用```scanf("%d\n", &num)```


PAT_Basic1028

2. 读多行

scanf在while中需要做EOF的判断，但是getline的话，就直接
```cpp
while(getline(cin, input)){}
```
即可

## 零、其他

1. ctrl+z

华科2021年涉及到如下描述：

> 直到输入ctrl+z结束

这里的ctrl+z实际上就是```EOF```，在命令行模式下，while(cin>>n)可以让用户一直输入，直到你打一个ctrl+z。

ctrl+c的作用与之不同，这个是直接终止程序。

网上还说ctrl+z一般用于字符串的EOF，ctrl+d一般用于数字的EOF，不过我想一般的题目就可以全部当做是ctrl+z来做。